(()=>{"use strict";const a=document.querySelector("body");function s(e){return document.querySelector(e)}function n(t,o){"string"==typeof t&&(t=document.querySelectorAll(t));for(let e=0;e<t.length;e++)t[e].classList.remove(o)}function c(e){!0===e?a.classList.add("_lock"):!1===e?a.classList.remove("_lock"):void 0===e?a.classList.contains("_lock")?a.classList.remove("_lock"):a.classList.add("_lock"):console.error("Неопределенный аргумент у функции bodyLock()")}{let t=new Image;t.onload=t.onerror=function(){var e;e=2==t.height,document.documentElement.classList.add(!0==e?"webp":"no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}const t=document.querySelector(".rating__table").querySelectorAll("tbody tr:not(:first-child)"),l=document.querySelector(".rating-hover"),d=document.querySelector(".rating");for(let e=0;e<t.length;e++){const s=t[e];s.addEventListener("mouseenter",e=>{var t=window.scrollY+d.getBoundingClientRect().top,o=window.scrollY+s.getBoundingClientRect().top;l.style.top=o-t+"px",l.style.display="block"}),s.addEventListener("mouseleave",e=>{l.style.display="none"})}function r(){const e=document.querySelector(".news__tabs-roller"),t=document.querySelector(".news__tab._active");e.style.width=t.clientWidth-parseInt(window.getComputedStyle(t).paddingRight)-parseInt(window.getComputedStyle(t).paddingLeft)+"px",e.style.left=t.offsetLeft+parseInt(window.getComputedStyle(t).paddingRight)+"px"}var o=document.querySelectorAll("[data-tab]");for(let e=0;e<o.length;e++){const v=o[e],f=v.querySelectorAll("[data-tab-btn]"),L=v.querySelectorAll("[data-tab-card]");for(let e=0;e<f.length;e++){const _=f[e];_.addEventListener("click",e=>{const t=_.dataset.tabBtn,o=v.querySelectorAll(`[data-tab-card=${t}]`);if(n(f,"_active"),n(L,"_show"),_.classList.add("_active"),r(),"all"===t)for(let e=0;e<L.length;e++)L[e].classList.add("_show");else for(let e=0;e<o.length;e++)o[e].classList.add("_show")})}}window.addEventListener("resize",e=>{r()}),r();var i=document.querySelectorAll(".tf");for(let e=0;e<i.length;e++){const p=i[e],S=p.querySelector("input, textarea"),A=p.querySelector("label");""!=S.value&&A.classList.add("_change-label"),S.addEventListener("focus",e=>{A.classList.add("_change-label")}),S.addEventListener("blur",e=>{""===S.value&&A.classList.remove("_change-label")})}window.addEventListener("click",e=>{const t=e.target;"INPUT"==t.nodeName&&((e=t.closest(".tf")).removeAttribute("data-textfield-error"),e.classList.remove("_textfield-error"))});const u=document.querySelector("#form-sign-in"),m=u.querySelectorAll(".tf input[data-tf-required]");if(u.addEventListener("submit",async e=>{let t=!0;if(e.preventDefault(),m.forEach(e=>{""==(e=e).value.trim()&&((e=e.closest(".tf")).dataset.textfieldError="Поле не должно быть пустым",e.classList.add("_textfield-error"),1)&&(t=!1)}),!1===t)console.log("Форма не до конца заполнена!");else{const o=new FormData(u),l=u.getAttribute("action"),a=await fetch(l,{method:"POST",body:o});if(a.ok){e=u;e.reset();const s=e.querySelectorAll(".tf");for(let e=0;e<s.length;e++)s[e].querySelector("label").classList.remove("_change-label")}else setTimeout(e=>{console.error("Ошибка HTTP: "+a.status)},2e3)}}),window.innerWidth<=920){const a=document.querySelector(".header"),s=document.querySelector(".burger"),n=document.querySelector(".menu"),c=a.clientHeight,t=document.querySelector(".header__empty");let l=!1;t.style.height=n.clientHeight+"px",s.addEventListener("click",e=>{var t=n.clientHeight,o=a.clientHeight;l=l?(a.style.maxHeight=c+"px",s.classList.add("_deactiveAnim"),setTimeout(e=>{s.classList.remove("_active"),s.classList.add("_deactive"),s.classList.remove("_deactiveAnim")},400),!1):(a.style.maxHeight=t+o+"px",s.classList.add("_activeAnim"),setTimeout(e=>{s.classList.remove("_deactive"),s.classList.add("_active"),s.classList.remove("_activeAnim")},300),!0)})}function h(e){e.classList.add("_show"),c(!0)}function w(e){e.classList.remove("_show"),c(!1),e=window.pageYOffset,window.location.hash="",window.scrollTo(0,e)}window.addEventListener("click",e=>{const t=e.target;if(null!=t.dataset.modalOpen||t.closest("[data-modal-open]")){const e=(t.closest("[data-modal-open]")?t.closest("[data-modal-open]"):t).dataset.modalOpen;document.querySelector("#"+e),window.location.hash=e}}),window.location.hash&&(e=window.location.hash.substring(1),(e=document.querySelector(`.modal[data-modal-id=${e}]`))&&h(e)),window.addEventListener("hashchange",e=>{var t=window.location.hash.replace("#",""),o=document.querySelector(`.modal[data-modal-id="${t}"]`);s(".modal._show")&&w(s(".modal._show")),o&&""!=t&&h(o)}),document.addEventListener("click",e=>{const t=e.target;t.classList.contains("modal__bg")&&w(t.closest(".modal"))});var y=document.querySelectorAll(".modal");for(let e=0;e<y.length;e++){const b=y[e];b.querySelector(".modal-close").addEventListener("click",()=>{w(b)})}var e,g=document.querySelectorAll(".modal");for(let e=0;e<g.length;e++){const q=g[e];document.addEventListener("keydown",e=>{"Escape"===e.key&&w(q)})}document.querySelector(".back-to-top").addEventListener("click",e=>{window.scrollBy(0,-window.scrollY)})})();