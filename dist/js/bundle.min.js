(()=>{"use strict";const s=document.querySelector("body");function a(e){return document.querySelector(e)}function n(t,o){"string"==typeof t&&(t=document.querySelectorAll(t));for(let e=0;e<t.length;e++)t[e].classList.remove(o)}function c(e){!0===e?s.classList.add("_lock"):!1===e?s.classList.remove("_lock"):void 0===e?s.classList.contains("_lock")?s.classList.remove("_lock"):s.classList.add("_lock"):console.error("Неопределенный аргумент у функции bodyLock()")}const t=document.querySelector(".rating__table").querySelectorAll("tbody tr:not(:first-child)"),l=document.querySelector(".rating-hover"),r=document.querySelector(".rating");for(let e=0;e<t.length;e++){const a=t[e];a.addEventListener("mouseenter",e=>{var t=window.scrollY+r.getBoundingClientRect().top,o=window.scrollY+a.getBoundingClientRect().top;l.style.top=o-t+"px",l.style.display="block"}),a.addEventListener("mouseleave",e=>{l.style.display="none"})}function d(){const e=document.querySelector(".news__tabs-roller"),t=document.querySelector(".news__tab._active");e.style.width=t.clientWidth-parseInt(window.getComputedStyle(t).paddingRight)-parseInt(window.getComputedStyle(t).paddingLeft)+"px",e.style.left=t.offsetLeft+parseInt(window.getComputedStyle(t).paddingRight)+"px"}var o=document.querySelectorAll("[data-tab]");for(let e=0;e<o.length;e++){const g=o[e],f=g.querySelectorAll("[data-tab-btn]"),L=g.querySelectorAll("[data-tab-card]");for(let e=0;e<f.length;e++){const _=f[e];_.addEventListener("click",e=>{const t=_.dataset.tabBtn,o=g.querySelectorAll(`[data-tab-card=${t}]`);if(n(f,"_active"),n(L,"_show"),_.classList.add("_active"),d(),"all"===t)for(let e=0;e<L.length;e++)L[e].classList.add("_show");else for(let e=0;e<o.length;e++)o[e].classList.add("_show")})}}window.addEventListener("resize",e=>{d()}),d();var i=document.querySelectorAll(".tf");for(let e=0;e<i.length;e++){const S=i[e],p=S.querySelector("input, textarea"),q=S.querySelector("label");""!=p.value&&q.classList.add("_change-label"),p.addEventListener("focus",e=>{q.classList.add("_change-label")}),p.addEventListener("blur",e=>{""===p.value&&q.classList.remove("_change-label")})}window.addEventListener("click",e=>{const t=e.target;"INPUT"==t.nodeName&&((e=t.closest(".tf")).removeAttribute("data-textfield-error"),e.classList.remove("_textfield-error"))});const u=document.querySelector("#form-sign-in"),m=u.querySelectorAll(".tf input[data-tf-required]");if(u.addEventListener("submit",async e=>{let t=!0;if(e.preventDefault(),m.forEach(e=>{""==(e=e).value.trim()&&((e=e.closest(".tf")).dataset.textfieldError="Поле не должно быть пустым",e.classList.add("_textfield-error"),1)&&(t=!1)}),!1===t)console.log("Форма не до конца заполнена!");else{const o=new FormData(u),l=u.getAttribute("action"),s=await fetch(l,{method:"POST",body:o});if(s.ok){e=u;e.reset();const a=e.querySelectorAll(".tf");for(let e=0;e<a.length;e++)a[e].querySelector("label").classList.remove("_change-label")}else setTimeout(e=>{console.error("Ошибка HTTP: "+s.status)},2e3)}}),window.innerWidth<=920){const s=document.querySelector(".header"),a=document.querySelector(".burger"),n=document.querySelector(".menu"),c=s.clientHeight,t=document.querySelector(".header__empty");let l=!1;t.style.height=n.clientHeight+"px",a.addEventListener("click",e=>{var t=n.clientHeight,o=s.clientHeight;l=l?(s.style.maxHeight=c+"px",a.classList.add("_deactiveAnim"),setTimeout(e=>{a.classList.remove("_active"),a.classList.add("_deactive"),a.classList.remove("_deactiveAnim")},400),!1):(s.style.maxHeight=t+o+"px",a.classList.add("_activeAnim"),setTimeout(e=>{a.classList.remove("_deactive"),a.classList.add("_active"),a.classList.remove("_activeAnim")},300),!0)})}function h(e){e.classList.add("_show"),c(!0)}function y(e){e.classList.remove("_show"),c(!1),e=window.pageYOffset,window.location.hash="",window.scrollTo(0,e)}window.addEventListener("click",e=>{const t=e.target;if(null!=t.dataset.modalOpen||t.closest("[data-modal-open]")){const e=(t.closest("[data-modal-open]")?t.closest("[data-modal-open]"):t).dataset.modalOpen;document.querySelector("#"+e),window.location.hash=e}}),window.location.hash&&(e=window.location.hash.substring(1),(e=document.querySelector(`.modal[data-modal-id=${e}]`))&&h(e)),window.addEventListener("hashchange",e=>{var t=window.location.hash.replace("#",""),o=document.querySelector(`.modal[data-modal-id="${t}"]`);a(".modal._show")&&y(a(".modal._show")),o&&""!=t&&h(o)}),document.addEventListener("click",e=>{const t=e.target;t.classList.contains("modal__bg")&&y(t.closest(".modal"))});var v=document.querySelectorAll(".modal");for(let e=0;e<v.length;e++){const b=v[e];b.querySelector(".modal-close").addEventListener("click",()=>{y(b)})}var e,w=document.querySelectorAll(".modal");for(let e=0;e<w.length;e++){const k=w[e];document.addEventListener("keydown",e=>{"Escape"===e.key&&y(k)})}document.querySelector(".back-to-top").addEventListener("click",e=>{window.scrollBy(0,-window.scrollY)})})();